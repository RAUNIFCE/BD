Estrutura Atividade SQL 12/08/2025
#1º Questão
create database Mercado
USE Mercado
create table Categoria(
id_categoria int primary key auto_increment,
nome_categoria varchar(50) not null unique
);
create table Fornecedor(
id_fornecedor int primary key auto_increment,
nome_fornecedor varchar(100) not null,
telefone varchar(15),
cidade  varchar(50)
);
create table Produto(
id_produto int primary key auto_increment,
nome_produto  varchar(100) not null,
preco decimal(10,2) not null check(preco>0),
estoque int not null default 0,
id_categoria int ,
constraint fkCategoria foreign key(id_categoria) references
Categoria(id_categoria) on delete set null on update cascade,
id_fornecedor int ,
constraint fkFornecedor foreign key(id_fornecedor) references
Fornecedor(id_fornecedor) on delete set null on update cascade
);
create table Cliente(
id_cliente int primary key auto_increment,
nome_cliente varchar(100) not null,
telefone varchar(15),
email varchar(100) not null unique
);
create table Venda(
id_venda int primary key auto_increment,
data_venda datetime not null,
id_cliente int,
constraint fkCliente foreign key(id_cliente) references
Cliente(id_cliente) on delete set null on update cascade
);
create table Item_Venda(
id_item int primary key auto_increment,
quantidade int not null check(quantidade>0),
preco_unitario decimal(10,2) not null check(preco_unitario>0),
id_venda int,
id_produto int,
constraint fkVenda foreign key(id_venda) references
Venda(id_venda) on delete set null on update cascade,
constraint fkProduto foreign key(id_produto) references
Produto(id_produto) on delete set null on update cascade
);

#2 inserção de dados
select * from item_venda;
insert into Categoria VALUES(NULL,"Bebidas");
insert into Categoria VALUES(NULL,"Hortifruti");

insert into Fornecedor values(NULL,"Distribuidora Água Viva","(88)99999-1111","Cedro");
insert into Fornecedor values(NULL,"Hortifruti Ceará","(88)98888-2222","Icó");

insert into Produto values(NULL,"Água Mineral 500ml", 2.50, 100, 1, 1),(NULL,"Banana Nanica",5.00, 50, 2, 2);

insert into Cliente values(NULL,"Maria Souza","(88) 97777-3333","maria.souza@email.com"),
(NULL,"João Pereira", "(88)96666-4444","joao.pereira@email.com");

insert into Venda values(NULL,"2025-08-12",1),(NULL,"2025-08-12",2);

insert into Item_Venda values(NULL,2,2.5,1,1);
insert into Item_Venda values(NULL,3,5,2,2);






